---
import shiki from 'shiki'

const { poetry } = Astro.props

let poetryOutput

await shiki.getHighlighter({
  theme: 'poimandres',
}).then(highlighter => {
  poetryOutput = highlighter.codeToHtml(poetry, { lang: 'markdown' })
})
---
<div class="poetry" set:html={poetryOutput} />

<style is:global>
  .poetry > pre.shiki {
    overflow-y: auto;
    background-color: transparent!important;
  }
  .poetry > pre.shiki > code {
    font-family: sans-serif;
  }
  .poetry > pre.shiki > code > * > * {
    color: black!important;
  }
</style>
